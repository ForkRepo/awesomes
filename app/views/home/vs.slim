=content_for :con
  h1.vs-logo: i VS
  p.text-center[style="color: #b1b1b1;"]前端库实力参数对比，帮助你找到自己想要的
  div#vs-main[style="width: 100%;"]
  
  div.tips[v-if="vsitems.length > 0"]
    p[v-cloak] 
      | 你可以将该结果通过
      strong<> https://www.awesomes.cn/vs/{{vsIds}} 
      | 分享出去
  h4.text-center[v-else] 请前往前端库列表页选择要比较的框架，然后加入到VS列表里面

  script[src="/echarts/echarts.min.js"]
  

  javascript:
    var ids = "#{params[:ids]}".split('-')
    if(ids.length < 2){
      ids = _.map((store.get('awesomes-vs') || []), function(item){
        return item.id
      })
    }


    $.post('/vs.json', {ids: ids.join(',')}, function(data){
      $('#vs-main').css('height', data.repos.length * 100 + 4 * 80)
      drawChart(data.repos, data.reponms)
    })
    function drawChart(repos, reponms){
      // 基于准备好的dom，初始化echarts实例
      var myChart = echarts.init(document.getElementById('vs-main'));

      // 指定图表的配置项和数据
      var option = {
        title: {
            text: ''
        },
        tooltip: {
            trigger: 'axis',
            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        legend: {
           data: reponms
        },
        yAxis: {
            data: [  '在用',  '活跃度',  '趋势', '热度']
        },
        xAxis: {
          splitLine: {
            show: false
          },
          axisLine: {
            show: false
          },
          axisTick:{
            show: false
          },
          axisLabel: {show: false}
        },
        series: repos
      };


      // 使用刚指定的配置项和数据显示图表。
      myChart.setOption(option);
    }

    vueExtend = {
      data: {
        vsIds: ids.join('-')
      }
    }